# Production values override for Cybersage Helm chart
# Use with: helm install cybersage ./helm/cybersage -f values-prod.yaml

global:
  replicas: 1  # Single pod per service

services:
  agent-a-web:
    replicas: 1
    resources:
      limits:
        cpu: "2000m"
        memory: "2Gi"
      requests:
        cpu: "1000m"
        memory: "1Gi"

  agent-b-web:
    replicas: 1
    resources:
      limits:
        cpu: "2000m"
        memory: "2Gi"
      requests:
        cpu: "1000m"
        memory: "1Gi"

  agent-c-queue:
    replicas: 1
    resources:
      limits:
        cpu: "2000m"
        memory: "2Gi"
      requests:
        cpu: "1000m"
        memory: "1Gi"

  autonomous-council-api:
    replicas: 1
    resources:
      limits:
        cpu: "4000m"
        memory: "4Gi"
      requests:
        cpu: "2000m"
        memory: "2Gi"

  backend:
    replicas: 1
    resources:
      limits:
        cpu: "2000m"
        memory: "2Gi"
      requests:
        cpu: "1000m"
        memory: "1Gi"

  frontend-react:
    replicas: 1
    resources:
      limits:
        cpu: "1000m"
        memory: "1Gi"
      requests:
        cpu: "500m"
        memory: "512Mi"

managedServices:
  rabbitmq:
    resources:
      limits:
        cpu: "1000m"
        memory: "1Gi"
      requests:
        cpu: "250m"
        memory: "512Mi"

  qdrant:
    resources:
      limits:
        cpu: "2000m"
        memory: "2Gi"
      requests:
        cpu: "500m"
        memory: "1Gi"

persistence:
  rabbitmq:
    size: "20Gi"
    storageClass: "ebs-gp2-immediate"

  qdrant:
    size: "100Gi"
    storageClass: "ebs-gp2-immediate"

  chromadb:
    size: "50Gi"
    storageClass: "ebs-gp2-immediate"

# Enable Ingress for production
ingress:
  enabled: true
  className: "alb"
  annotations:
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
    alb.ingress.kubernetes.io/ssl-redirect: "443"
  hosts:
    - host: "cybersage.example.com"
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: cybersage-tls
      hosts:
        - cybersage.example.com

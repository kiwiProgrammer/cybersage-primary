# Production values override for Cybersage Helm chart
# Use with: helm install cybersage ./helm/cybersage -f values-prod.yaml

global:
  replicas: 2  # HA configuration

services:
  agent_a_web:
    replicas: 2
    resources:
      limits:
        cpu: "2000m"
        memory: "2Gi"
      requests:
        cpu: "1000m"
        memory: "1Gi"

  agent_b_web:
    replicas: 2
    resources:
      limits:
        cpu: "2000m"
        memory: "2Gi"
      requests:
        cpu: "1000m"
        memory: "1Gi"

  agent_c_queue:
    replicas: 2
    resources:
      limits:
        cpu: "2000m"
        memory: "2Gi"
      requests:
        cpu: "1000m"
        memory: "1Gi"

  autonomous_council_api:
    replicas: 2
    resources:
      limits:
        cpu: "4000m"
        memory: "4Gi"
      requests:
        cpu: "2000m"
        memory: "2Gi"

  backend:
    replicas: 2
    resources:
      limits:
        cpu: "2000m"
        memory: "2Gi"
      requests:
        cpu: "1000m"
        memory: "1Gi"

  frontend_react:
    replicas: 2
    resources:
      limits:
        cpu: "1000m"
        memory: "1Gi"
      requests:
        cpu: "500m"
        memory: "512Mi"

managedServices:
  postgres:
    resources:
      limits:
        cpu: "2000m"
        memory: "2Gi"
      requests:
        cpu: "1000m"
        memory: "1Gi"

  rabbitmq:
    resources:
      limits:
        cpu: "2000m"
        memory: "2Gi"
      requests:
        cpu: "1000m"
        memory: "1Gi"

  qdrant:
    resources:
      limits:
        cpu: "4000m"
        memory: "4Gi"
      requests:
        cpu: "2000m"
        memory: "2Gi"

persistence:
  postgres:
    size: "50Gi"
    storageClass: "gp2"

  rabbitmq:
    size: "20Gi"
    storageClass: "gp2"

  qdrant:
    size: "100Gi"
    storageClass: "gp2"

  chromadb:
    size: "50Gi"
    storageClass: "gp2"

# Enable Ingress for production
ingress:
  enabled: true
  className: "alb"
  annotations:
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
    alb.ingress.kubernetes.io/ssl-redirect: "443"
  hosts:
    - host: "cybersage.example.com"
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: cybersage-tls
      hosts:
        - cybersage.example.com
